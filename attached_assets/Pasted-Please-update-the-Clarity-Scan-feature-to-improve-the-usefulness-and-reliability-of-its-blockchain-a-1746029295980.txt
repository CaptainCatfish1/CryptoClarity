Please update the Clarity Scan feature to improve the usefulness and reliability of its blockchain address analysis, especially when a user submits only a suspicious address. Currently, when testing with a well-known address like 0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045, Clarity Scan does not return any helpful information. In contrast, when that same address is submitted directly to ChatGPT, it provides a rich explanation including known attribution (e.g., Vitalik’s wallet), historical context, known transactions, and risk evaluation.

Update the Clarity Scan flow as follows:

First, verify that the Etherscan API key is working correctly and that API responses are being received and parsed properly. If the key is not valid or is missing required permissions, update it with a working one and log a warning if Etherscan fails to return data.

Update the Clarity Scan AI prompt logic to include enriched address context when generating the final scam risk evaluation. For example, if an address is detected or submitted, include in the AI prompt:

“The user submitted this address for analysis: [address]. Based on the Etherscan API results and any known public attributions, provide a risk assessment and explain who the address may belong to, what it’s typically used for, and whether it is likely legitimate or suspicious. Include references to exchange use, verified contracts, or known scams if applicable.”

If no scenario text is submitted (i.e., user only enters an address), the scan should still proceed and return a full AI-generated explanation using only the address and the Etherscan data.

Ensure that the following Etherscan API data is properly queried and parsed:

Nametag or public label

Address balance (ETH)

Transaction counts (normal, internal, token transfers)

Contract creator and creation hash (if applicable)

First and last transaction dates

Contract verification status (if smart contract)

Format the Clarity Scan output so the user sees both:

A structured data block with the on-chain information returned from Etherscan

A narrative explanation generated by ChatGPT using that data — just like the example output from ChatGPT's native response window.

The output should be formatted clearly, grouped into sections like “Blockchain Data Summary” and “Clarity AI Risk Assessment.” Ensure this works for both free and premium scans, with premium responses optionally including deeper AI commentary.

Maintain clean, dark theme styling and ensure graceful fallback behavior if an address is invalid or the API fails to return data.